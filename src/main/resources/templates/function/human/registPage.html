<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>인사 정보 등록</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" th:href="@{/css/common.css}">
    <link rel="stylesheet" th:href="@{/css/registPage.css}">

</head>
<body>
<script th:src="@{/js/regist.js}"></script>
<script th:src="@{/js/common.js}"></script>

<nav class="nav-class">
    <div class="nav-div-class"><a class="nav-link" href="/">LYNK</a></div> <br><br>

    <h6 style="color: white">My</h6>
    <div class="nav-text-class">
        <div class="menuContainer">
            <li class="humanMenu">
                <a href="#">
                    <span class="arrow">></span>최근 사용한 메뉴
                </a>
                <ul class="subMenu">
                    <li><a href="/" style="text-decoration: none">임시</a></li>
                    <li><a href="/" style="text-decoration: none">임시</a></li>
                    <li><a href="/" style="text-decoration: none">임시</a></li>
                    <li><a href="/" style="text-decoration: none">임시</a></li>
                </ul>
            </li>
        </div>

        <div class="menuContainer">
            <li class="humanMenu">
                <a href="#">
                    <span class="arrow">></span>즐겨 찾기
                </a>
                <ul class="subMenu">
                    <li><a href="/" style="text-decoration: none">임시</a></li>
                    <li><a href="/" style="text-decoration: none">임시</a></li>
                    <li><a href="/" style="text-decoration: none">임시</a></li>
                    <li><a href="/" style="text-decoration: none">임시</a></li>
                </ul>
            </li>
        </div>

        <div><br><br>
            <h6 style="color: white">Menu</h6>

            <div class="menuContainer">
                <li class="humanMenu">
                    <a href="#">
                        <span class="arrow">></span>홈
                    </a>
                    <ul class="subMenu">
                        <li><a href="/" style="text-decoration: none">임시</a></li>
                        <li><a href="/" style="text-decoration: none">임시</a></li>
                        <li><a href="/" style="text-decoration: none">임시</a></li>
                        <li><a href="/" style="text-decoration: none">임시</a></li>
                    </ul>
                </li>
            </div>

            <div class="menuContainer">
                <ul id="menuList2">
                    <li class="humanMenu">
                        <a href="#">
                            <span class="arrow">></span>공지사항
                        </a>
                        <ul class="subMenu">
                            <li><a href="/" style="text-decoration: none">임시</a></li>
                            <li><a href="/" style="text-decoration: none">임시</a></li>
                            <li><a href="/" style="text-decoration: none">임시</a></li>
                            <li><a href="/" style="text-decoration: none">임시</a></li>
                        </ul>
                    </li>
                </ul>
            </div>

            <div class="menuContainer">
                    <li class="humanMenu">
                        <a href="#">
                            <span class="arrow">></span>인사관리
                        </a>
                        <ul class="subMenu">
                            <li><a href="/employee/join" style="text-decoration: none">인사정보</a></li>
                            <li><a href="/employee/regist" style="text-decoration: none">인사등록</a></li>
                            <li><a href="/employee/list" style="text-decoration: none">근태관리</a></li>
                            <li><a href="/employee/list" style="text-decoration: none">일정관리</a></li>
                        </ul>
                    </li>
            </div>


            <div class="menuContainer">
                <li class="humanMenu">
                    <a href="#">
                        <span class="arrow">></span>전자결재
                    </a>
                    <ul class="subMenu">
                        <li><a href="/" style="text-decoration: none">임시</a></li>
                        <li><a href="/" style="text-decoration: none">임시</a></li>
                        <li><a href="/" style="text-decoration: none">임시</a></li>
                        <li><a href="/" style="text-decoration: none">임시</a></li>
                    </ul>
                </li>
            </div>

            <div class="menuContainer">
                <li class="humanMenu">
                    <a href="#">
                        <span class="arrow">></span>DB 관리
                    </a>
                    <ul class="subMenu">
                        <li><a href="/" style="text-decoration: none">임시</a></li>
                        <li><a href="/" style="text-decoration: none">임시</a></li>
                        <li><a href="/" style="text-decoration: none">임시</a></li>
                        <li><a href="/" style="text-decoration: none">임시</a></li>
                    </ul>
                </li>
            </div>

            <div class="menuContainer">
                <li class="humanMenu">
                    <a href="#">
                        <span class="arrow">></span>계약관리
                    </a>
                    <ul class="subMenu">
                        <li><a href="/" style="text-decoration: none">임시</a></li>
                        <li><a href="/" style="text-decoration: none">임시</a></li>
                        <li><a href="/" style="text-decoration: none">임시</a></li>
                        <li><a href="/" style="text-decoration: none">임시</a></li>
                    </ul>
                </li>
            </div>

        </div>
    </div>

</nav>
<div class="right-container">

    <header class="header-class">January

            <div>
                <button>WED<br>1</button>
            </div>
            <div>
                <button>THU<br>2</button>
            </div>
            <div>
                <button>FRI<br>3</button>
            </div>
            <div>
                <button>SAT<br>4</button>
            </div>
            <div>
                <button>SUN<br>5</button>
            </div>
            <div>
                <button>MON<br>6</button>
            </div>
            <div>
                <button>TUE<br>7</button>
            </div>
            <div>
                <button>WED<br>8</button>
            </div>
            <div>
                <button>THU<br>9</button>
            </div>
            <div>
                <button>FRI<br>10</button>
            </div>
            <div>
                <button>SAT<br>11</button>
            </div>
            <div>
                <button>SUN<br>12</button>
            </div>
            <div>
                <button>MON<br>13</button>
            </div>
            <div>
                <button>TUE<br>14</button>
            </div>
            <div>
                <button>WED<br>15</button>
            </div>
            <div>
                <button>THU<br>16</button>
            </div>
            <div>
                <button>FRI<br>17</button>
            </div>
            <div>
                <button>SAT<br>18</button>
            </div>
            <div>
                <button>SUN<br>19</button>
            </div>
            <div>
                <button>MON<br>20</button>
            </div>
            <div>
                <button>TUE<br>21</button>
            </div>
            <div>
                <button>WED<br>22</button>
            </div>
            <div>
                <button>THU<br>23</button>
            </div>
            <div>
                <button>FRI<br>24</button>
            </div>
            <div>
                <button>SAT<br>25</button>
            </div>
            <div>
                <button>SUN<br>26</button>
            </div>
            <div>
                <button>MON<br>27</button>
            </div>
            <div>
                <button>TUE<br>28</button>
            </div>
            <div>
                <button>WED<br>29</button>
            </div>
            <div>
                <button>THU<br>30</button>
            </div>
            <div>
                <button>FRI<br>31</button>
            </div>

    </header>

        <section class="main-content">
            <div class="subHeader-class"><a class="subHeaderLink-class" href="/">인사 관리</a>
                <label style="margin-left: 20px; margin-right: 20px"> > </label>
                <a class="subHeaderLink-class" href="/employee/regist">인사 등록</a>
            </div>

        <div class="table-container">
            <h2 class="table-header">인사 등록이 필요한 직원 정보</h2>
            <div class="table-wrapper">
                <table class="styled-table">
                    <thead>
                    <tr>
                        <th>사진</th>
                        <th>사번</th>
                        <th>이름</th>
                        <th>부서</th>
<!--                        <th>직책</th>-->
                        <th>이메일</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="abc : ${list}" class="clickable-row"
                        th:data-picture="${abc.picture}"
                        th:data-id="${abc.id}"
                        th:data-name="${abc.name}"
                        th:data-department="${abc.departmentDTO.depName}"
                        th:data-position="${abc.humanDTO.position}"
                        th:data-email="${abc.email}">
                        <td th:text="${abc.picture}"></td>
                        <td th:text="${abc.id}"></td>
                        <td th:text="${abc.name}"></td>
                        <td th:text="${abc.departmentDTO.depName}"></td>
<!--                        <td th:text="${abc.humanDTO.position}"></td>-->
                        <td th:text="${abc.email}"></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <script>
            document.addEventListener("DOMContentLoaded", () => {
                // 모든 클릭 가능한 행 가져오기
                const rows = document.querySelectorAll(".clickable-row");

                rows.forEach(row => {
                    row.addEventListener("click", () => {
                        // 데이터 추출
                        const picture = row.getAttribute("data-picture");
                        const id = row.getAttribute("data-id");
                        const name = row.getAttribute("data-name");
                        const department = row.getAttribute("data-department");
                        // const position = row.getAttribute("data-position");
                        const email = row.getAttribute("data-email");

                        // 폼에 데이터 삽입
                        document.getElementById("formPhoto").textContent = picture || "사진 없음";
                        document.getElementById("formId").value = id || "";
                        document.getElementById("formName").value = name || "";
                        document.getElementById("formDepartment").value = department || "";
                        // document.getElementById("formPosition").value = position || "";
                        document.getElementById("formEmail").value = email || "";
                    });
                });
            });

        </script>

        <div class=form-container>
        <form action="/employee/regist" method="post" onsubmit="combineEmail(); return true;">
            <div class="regist-div-class">
                <!-- 상단 제목 -->
                <div class="header">인사 정보 등록</div>
                <button type="button" class="cancle-button">취소</button> <!-- 취소 버튼 -->

                <!-- 사진 및 입력 필드 -->
                <div class="content-wrapper">
                    <!-- 사진 업로드 영역 -->
                    <div class="photo" id="formPhoto">사 진</div> <!-- 사진 받아와서 연결 -->

                    <!-- 입력 필드 -->
                    <div class="field-container">
                        <div class="field-group">
                            <label>사 번</label> <!-- 사번 받아와서 연결 -->
                            <input type="number" name="id" id="formId" placeholder="20241210">
                        </div>

                        <div class="field-group">
                            <label>이 름</label> <!-- 이름 받아와서 연결 -->
                            <input type="text" name="name" id="formName" placeholder="홍길동">
                        </div>


                        <div class="field-group">
                            <label>부 서</label> <!-- 부서 받아와서 연결 -->
                            <input type="text" name="text" id="formDepartment" placeholder="인사팀">
                        </div>

                        <div class="field-group">
                            <label>직 책</label>
                            <select name="position" id="position">
                                <option value="인턴">인턴</option>
                                <option value="사원">사원</option>
                                <option value="대리">대리</option>
                                <option value="과장">과장</option>
                                <option value="차장">차장</option>
                                <option value="부장">부장</option>
                            </select>
                        </div>

                        <div class="field-group">
                            <label>이메일</label> <!-- 이메일 받아와서 연결 -->
                            <input type="email" name="email" id="formEmail" placeholder="gyunam@naver.com">
                        </div>

                        <div class="field-group">
                            <label>고용 여부</label>
                            <select name="employeementStatus">
                                <option value="계약직">계약직</option>
                                <option value="정규직">정규직</option>
                            </select>
                        </div>

                        <div class="field-group">
                            <label>주 소</label>
                            <input type="text" name="address" placeholder="서울특별시 강남구 도봉구">
                        </div>

                        <!-- 국적 필드 -->
                        <div class="field-group">
                            <label>국 적</label>
                            <input type="text" name="nation" placeholder="대한민국">
                        </div>

                        <div class="field-group">
                            <label>대표 전화</label>
                            <input type="tel" name="phoneNumber" placeholder="대표 전화">
                        </div>

                        <div class="field-group">
                            <label>입사 일자</label>
                            <input type="date" name="joinDate" placeholder="입사 일자">
                        </div>
                    </div>
                </div>

                <!-- 등록 버튼 -->
                <button type="submit" class="submit-button">등록</button>
            </div>

            <!--            <div class="field-group">-->
            <!--                <label>이메일 :</label>-->
            <!--                <div style="display: flex; gap: 5px">-->
            <!--                <input type="text" name="emailName" placeholder="이메일">-->
            <!--                @-->
            <!--                <select name="emailDomain" id="emailDomain">-->
            <!--                    <option value="naver.com">naver.com</option>-->
            <!--                    <option value="google.com">google.com</option>-->
            <!--                    <option value="daum.net">daum.net</option>-->
            <!--                    <option value="직접 입력">직접 입력</option>-->
            <!--                </select>-->
            <!--                    <input type="text" id="customEmailDomain" name="customEmailDomain" placeholder="도메인 입력" style="display: none; margin-top: 5px;">-->
            <!--                    &lt;!&ndash; Hidden field to send full email &ndash;&gt;-->
            <!--                    <input type="hidden" id="fullEmail" name="email">-->
            <!--                </div>-->
        </form>
        </div>
<!-- 모달 구조 -->
<div th:if="${successMessage}" id="successMessage" style="display: none;"></div>
        <div class="modal fade" id="myModal" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="myModalLabel">알림</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="modalMessage">
                        <!-- 메시지가 동적으로 추가됩니다 -->
                        <p  th:text="${successMessage}"></p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                    </div>
                </div>
            </div>
        </div>

</body>
</html>