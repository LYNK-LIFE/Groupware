<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>일반품의서</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" th:href="@{/css/common.css}">
    <link rel="stylesheet" th:href="@{/css/lookUp.css}">
    <link rel="stylesheet" th:href="@{/css/paymentGeneral.css}">

    <style>

    </style>

<body class="body-general">
<!-- ① Popper.js 라이브러리 - 툴팁 , 팝오버 , 드롭다운 관리 -->

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>

<!-- ② Popper.js를 필요로 함 - 자바스크립트 파일 로드 - UI 구성 요소 쉽게 만들어줌 - 드롭다운 , 모달 -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>

<nav th:replace="~{/common/nav :: navFragment}" class="nav-class"></nav>



<div class="right-container">

    <header th:replace="~{/common/header :: headerFragment}" class="header-class"></header>

    <section class="main-content">

        <div class="subHeader-class">
            <a class="subHeaderLink-class" href="/">전자결재</a>
            <label style="margin-left: 20px; margin-right: 20px"> > </label>
            <a class="subHeaderLink-class" href="/payment/list">기안하기</a>
            <label style="margin-left: 20px; margin-right: 20px"> > </label>
            <a class="subHeaderLink-class" href="/payment/general">일반품의서</a>
        </div>

        <!-- 일반 품의서 표 만들기  -->
        <article class="article-general">
            <h1 class="h1-general" > 일반품의서 </h1>
            <table class="table-general">
                <tr class="th-general">
                    <th class="th-general">문서번호</th>
                    <td class="td-general"><input class="input-general" type="text" id="documentNumber" placeholder="문서번호 입력"></td>
                    <th class="th-general">품의일</th>
                    <td class="th-general"><input class="input-general" type="date" id="documentDate"></td>
                </tr>
                <tr class="tr-general">
                    <th class="th-general">품의부서</th>
                    <td class="td-general"><input type="text" id="department" placeholder="부서명 입력"></td>
                    <th class="th-general">시행금액</th>
                    <td class="th-general"><input type="number" id="amount" placeholder="금액 입력"></td>
                </tr>
                <tr class="tr-general">
                    <th class="th-general">작성자</th>
                    <td class="td-general"><input class="input-general" type="text" id="author" placeholder="작성자 이름"></td>
                    <th class="th-general">보존기간</th>
                    <td class="td-general"><input class="input-general" type="text" id="preservation" placeholder="보존기간 입력"></td>
                </tr>
                <tr class="tr-general">
                    <th class="th-general">제목</th>
                    <td class="td-general" colspan="3"><input type="text" id="title" placeholder="제목 입력"></td>
                </tr>
                <tr class="tr-general">
                    <th class="th-general">내용</th>
                    <td class="td-general" colspan="3">
                        <textarea class="textarea-general" id="content" placeholder="상세 내용을 입력하세요"></textarea>
                    </td>
                </tr>
            </table>
        </article>


        <article class="container my-4">
            <!-- 결재선 및 + 버튼 상단으로 이동 -->
            <div id="approver-section" class="mb-3">
                <h3 class="label-title me-2"> 결재선 </h3>
                <button id="approvalButton" class="btn" data-bs-toggle="modal" data-bs-target="#approvalModal"> + </button>
            </div>

            <!-- 선택된 결재자 -->
            <div id="approver-list" class="mb-4">
                <h4>선택된 결재자</h4>
                <div id="approver-list-items" class="d-flex flex-column gap-2">
                        <!-- 동적으로 선택된 결재자가 여기에 추가됩니다 -->
                </div>
            </div>


            <!-- 파일 첨부 -->

                <div id="file-section" class="mt-4">
                    <h3>파일 첨부</h3>
                    <button id="add-file-btn" class="btn btn-outline-primary">+</button>

                    <!-- 파일 선택 -->
                    <input type="file" id="file-input" style="display: none;" />
                    <p id="file-name" style="display: none;">파일 이름: </p>
                </div>
        </article>


        <!-- 결재선 선택 모달 -->
        <div class="modal fade" id="approvalModal" tabindex="-1" aria-labelledby="approvalModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="approvalModalLabel">결재자 선택</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <div class="modal-body">

                        <table class="table table-bordered">
                            <thead>
                            <tr>
                                <th>부서명</th>
                                <th>사원명</th>
                                <th>직책</th>
                                <th>선택</th>
                            </tr>
                            </thead>

                         <tbody id="approverTable"></tbody>
                         <!-- 서버에서 동적으로 로드 -->
                        </table>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <aside th:replace="~{common/aside :: asideFragment}" class="aside-class"></aside>
    <footer th:replace="~{common/footer :: footerFragment}" class="footer-class"></footer>
</div>

    <!-- Bootstrap JS and Popper -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script th:src="@{/js/lookUp.js}"></script>

    <script th:src="@{/js/regist.js}"></script>

    <script th:src="@{/js/common.js}"></script>

    <script th:src="@{/js/calendar.js}"></script>

    <script th:src="@{/js/paymentGeneral.js}"></script>


</body>

</html>
